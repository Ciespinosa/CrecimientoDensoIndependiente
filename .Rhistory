tiempo <- seq(as.POSIXct("2018-01-15"),as.POSIXct("2019-02-15"), by=60*60*24*30*3)
tiempo
tiempo <- seq(as.POSIXct("2018-01-15"),as.POSIXct("2019-02-15"), by=60*60*24*30*3)
plot(tiempo, N, type="b",
xlab="Meses de muestreo",
ylab="Tamaño. N")
tiempo
crec <- function(lambda, t, N){
N <- lambda^t * N
return(N)
}
crec(3,3,2)
crec(2,4,2)
N
as.POSIXct("27/10/2019")- as.POSIXct("20/12/2019")
as.POSIXct("2019/27/10")- as.POSIXct("201920/12")
as.POSIXct("2019/27/10")- as.POSIXct("2019/20/12")
as.POSIXct("27/10/2019", format="%d-%m-%Y")- as.POSIXct("20/12/2019", format="%d-%m-%Y")
as.POSIXct("27/10/2019", format="%d-%m-%Y")
as.POSIXct("27/10/2019", format="%d-%m-%y")
format(as.POSIXct("27/10/2019"), format="%d-%m-%y")
format(as.POSIXct("27/10/2019"), format="%d-%m-%y")-format(as.POSIXct("20/12/2019"), format="%d-%m-%y")
format(as.POSIXct("27/10/2019"), format="%d-%m-%y")-format(as.POSIXct("20/12/2019"), format="%d-%m-%y")
format(as.POSIXct("27/10/2019"), format="%d-%m-%y")-format(as.POSIXct("2050*45/12/2019"), format="%d-%m-%y")
50*45
crec(2,4,2)
crec(2,12,2)
crec(2,1,2)
crec(20,4,2)
crec(20,1,2)
Nm <- c(10,20, 30)
Nm <- c(10,20, 30) #tres tamaños distintos
t <- c(1:6)
N0 <- c(10,20, 30) #tres tamaños distintos
t <- c(1:6) #seis periodos
Nm <- sapply(N0, crec(2,t=t, N=N0))
crec <- function(lambda, t, N){
N <- lambda^t * N
return(N)
}
crec(2,t=t, N=N0)
Nm <- crec(2,t=t, N=N0)
Nm
Nm <- crec(2,t=t, N=N0[1])
Nm
N0[1]
t <- c(0:6) #seis periodos
Nm <- crec(2,t=t, N=N0[1])
Nm
for(i in 1:3){
Nm[,i] <- crec(2,t=t, N=N0[i])
}
Nm
N0 <- c(10,20, 30) #tres tamaños distintos
t <- c(0:6) #seis periodos
Nm <- matrix(NA,6,3)
for(i in 1:3){
Nm[,i] <- crec(2,t=t, N=N0[i])
}
crec(2,t=t, N=N0[i])
Nm <- matrix(NA,7,3)
for(i in 1:3){
Nm[,i] <- crec(2,t=t, N=N0[i])
}
Nm[,i] <- crec(2,t=t, N=N0[i])
Nm
matplot(Nm)
matplot(Nm, type="b")
colnames(Nm) <- LETTERS[1:3]
for(i in 1:3){
Nm[,i] <- crec(2,t=t, N=N0[i])
}
matplot(Nm, type="b")
Nm
matplot(Nm, type="b")
matplot(log(Nm), type="b")
Lm <- matrix(NA,7,3)
for(i in 1:3){
Lm[,i] <- crec(lambda = lam,t=t, N=10)
}
lam <- c(0.5,1, 1.5) #tres tamaños distintos
t <- c(0:6) #seis periodos
Lm <- matrix(NA,7,3)
for(i in 1:3){
Lm[,i] <- crec(lambda = lam,t=t, N=10)
}
lam
for(i in 1:3){
Lm[,i] <- crec(lambda = lam[i],t=t, N=10)
}
matplot(Lm, type="b")
t <- c(0:4) #seis periodos
Lm <- matrix(NA,7,3)
for(i in 1:3){
Lm[,i] <- crec(lambda = lam[i],t=t, N=10)
}
matplot(Lm, type="b")
Lm <- matrix(NA,5,3)
lam <- c(0.5,1, 1.5) #tres tamaños distintos
t <- c(0:4) #seis periodos
Lm <- matrix(NA,5,3)
for(i in 1:3){
Lm[,i] <- crec(lambda = lam[i],t=t, N=10)
}
matplot(Lm, type="b")
text(3,40)
text(3,40. "lambda>1 -Pob. Crece")
text( 3,40, "lambda>1 -Pob. Crece")
matplot(Lm, type="b")
text(3,40, "lambda>1 -Pob. Crece")
text(3,30, "lambda>1 -Pob. Crece")
text(2.5,30, "lambda>1 -Pob. Crece")
text(1,0, "lambda<1 - Pob. Decrece")
matplot(Lm, type="b")
text(2.5,30, "lambda>1 - Pob. Crece")
text(2,0, "lambda<1 - Pob. Decrece")
text(3,12, "lambda>1 - Pob. se mantiene")
ninL <- ninfalidos[2:3]/ninfalidos[1:2]
ninL
ninL <- ninfalidos[2:3]/ninfalidos[1:2]
ninfalidos <- c(100, 50, 75)
ninL <- ninfalidos[2:3]/ninfalidos[1:2]
ninL
xL <- mean(ninL)
xL
crec(lambda = xL, t = 3,N = 100)
prod(ninL)
xgL <- prod(ninL)^(1/t)
xgL
xgL <- prod(ninL)^(1/3)
xgL
xgL <- prod(ninL)^(1/3)
crec(lambda = xgL, t = 3,N = 100)
library(sparrows)
install.packages("sparows")
install.packages("sparrows")
install.packages("primer")
data(sparrows)
library(primer)
data(sparrows)
View(sparrows)
library(primer)
data(sparrows)
lambdas <- runif(10, .5, 1.5)
out <- PopSim(Rs=lambdas, years=50, N0=50)
matplot(0:50, out, type='l')
summary(out[51,])
View(sparrows)
head(sparrows, 5)
plot(sparrows$Year, sparrows$Count)
plot(sparrows$Year, sparrows$Count, type="l")
Lm=5
popSp <- sparrows[1:Lm,2]
lambdaSp <- popSp[2:Lm]/popSp[1:Lm-1]
proy1 <- crec(lambda = lambdaSp, t = 1:36-Lm, N = sparrows[Lm,2])
proy1
lamSppg <- prod(lambdaSp)^1/Lm
proy1 <- crec(lambda = lambdaSppg, t = 1:36-Lm, N = sparrows[Lm,2])
proy1 <- crec(lambda = lamSppg, t = 1:36-Lm, N = sparrows[Lm,2])
proy1
proy1 <- c(sparrows$Count[1:Lm-1], proy1)
proy1
lamSppg
proy1 <- crec(lambda = lamSppg, t = 1:36-Lm, N = sparrows[Lm,2])
proy1
proy1 <- crec(lambda = lamSppg, t = 1:(36-Lm), N = sparrows[Lm,2])
proy1
proy1 <- c(sparrows$Count[1:Lm], proy1)
proy1
plot(sparrows$Year, sparrows$Count, type="l")
lines(sparrows$Year, proy1)
lambdaSp <- popSp[2:5]/popSp[1:5-1]
lamSppg <- prod(lambdaSp)^(1/5)
lamSppg
lambdaSp <- popSp[2:5]/popSp[1:5-1]
lamSppg <- prod(lambdaSp)^1/5
lamSppg
Lm <- 5 #Modifique este valor parqa cambiar el número de años
#Ejecute el resto de código
popSp <- sparrows[1:Lm,2]
library(primer)
Lm <- 5 #Modifique este valor parqa cambiar el número de años
popSp <- sparrows[1:Lm,2]
lamSppg <- prod(lambdaSp)^(1/Lm)
popSp <- sparrows[1:Lm,2]
n <- 1:100 #entre 1 y 100 periodos en el año
N0 <- 1 #población inicial de 1
rd <- 1 #tasa de incremento discreto
N1 <- N0 * (1 + rd/n)^n
N0 <- 1 #población inicial de 1
N1
which(N1>2.5)
x <- c(200, 230, 212, 235, 220)
names(x) <- paste("Año", 1:5, sep = "_")
x
x <- c(200, 230, 212, 235, 220)
names(x) <- paste("Año", 1:5, sep = " ")
<span class="fragment current visible">
<h4 style="color:#405dbd">
__La dimensionalidad de los objetos__
</h4>
</span>
library(kableExtra)
library(raster)
library(raster)
library(magick)
mariposa <- image_read_svg('mariposa.svg', width = 350)
mariposa1 <- image_read('mariposa1.png', width = 350)
mariposa2 <- image_read('mariposa2.png', width = 350)
flecha <- image_read('flecha.png', width = 350)
mariposa1 <- image_read('mariposa1.png')
mariposa2 <- image_read('mariposa2.png')
mariposa1 <- image_read('mariposa1.png')
mariposa2 <- image_read('mariposa2.png')
flecha <- image_read('flecha.png')
mariposa1 <- image_read('mariposa 1.png')
mariposa2 <- image_read('mariposa 2.png')
flecha <- image_read('flecha.png')
image_append(c(mariposa1, flecha, mariposa2))
image_append(c(mariposa1, image_scale(flecha, "70"), mariposa2))
flecha <- image_scale(image_read('flecha.png'), "100")
image_append(c(mariposa1, flecha, mariposa2))
flecha <- image_scale(image_read('flecha.png'), "100")
image_append(c(mariposa1, flecha, mariposa2))
flecha <- image_scale(image_read('flecha.png'), "200")
image_append(c(mariposa1, flecha, mariposa2))
flecha <- image_scale(image_read('flecha.png'), "200")
image_append(c(mariposa1, flecha, mariposa2))
#Nuestros datos
ninfalidos <- c(100, 50, 75)
#obtengamos lambda
ninL <- ninfalidos[2:3]/ninfalidos[1:2]
ninL
10000000000/1000
46*0.26
library(ggplot2)
install.packages("ggplot2")
library(primer)
install.packages("sparrows")
install.packages("primer")
library(primer)
library(ggplot2)
install.packages("ggplot2")
install.packages("ellipsis")
library(ellipsis)
library(ggplot2)
install.packages("vctrs")
library(ggplot2)
exp(3)
N.2053
par(mfcol=c(2,1), mar=c(2,4,1,1))
output <- PopSim(Rs = obs.R, N0 = 13, sims = 1000)
matplot(output/1000, type="l", ylab="Número/1000")
years<- 50
set.seed(12)
(sim.Rs <- sample(x = obs.R, size = years,
replace = TRUE))
obs.R <- Count[-1]/Count[-length(Count)]
library(primer)
data("sparrows")
attach(sparrows)
par(mfcol=c(1,2))
plot(Year, Count, type="b", pch=19)
obs.R <- Count[-1]/Count[-length(Count)]
plot(Year[-1], obs.R, pch=19)
abline(h = 1, lty = 3)
years<- 50
set.seed(12)
(sim.Rs <- sample(x = obs.R, size = years,
replace = TRUE))
sim1 <- numeric(years + 1)
sim1[1] <- Count[Year == max(Year)]
for (t in 1:years) {
sim1[t + 1] <- sim1[t] * sim.Rs[t] }
sim1 <- numeric(years + 1)
sim1[1] <- Count[Year == max(Year)]
for (t in 1:years) {
sim1[t + 1] <- sim1[t] * sim.Rs[t] }
PopSim <- function(Rs, N0, years = 50, sims = 10) {
sim.RM = matrix(sample(Rs, size = sims * years, replace = TRUE),
nrow = years, ncol = sims)
output <- numeric(years + 1)
output[1] <- N0
outmat <- sapply(1:sims, function(i) {
for (t in 1:years) output[t + 1] <- round(output[t] *
sim.RM[t, i], 0)
output
})
return(outmat)
}
output <- PopSim(Rs = obs.R, N0 = 13, sims = 1000)
output
sum(as.numeric(output=0))
sum(as.numeric(output==0))
(as.numeric(output==0))
sum(as.numeric(N.2053==0))
N.2053 <- output[51, ]
sum(as.numeric(N.2053==0))
sum(as.numeric(N.2053==0))/1000
exp(3.3)
par(mfcol=c(2,1), mar=c(2,4,1,1))
hist(N.2053, main = "N")
par(mfcol=c(2,1), mar=c(2,4,1,1))
hist(N.2053, main = "N")
abline(v = quantile(N.2053, prob = c(0.0275, 0.975)))
hist(log10(N.2053 + 1), main = "log(N+1)")
abline(v = log10(quantile(N.2053, prob = c(0.0275, 0.975))
+ 1), lty = 3)
par(mfcol=c(2,1), mar=c(2,4,1,1))
hist(N.2053, main = "N")
abline(v = quantile(N.2053, prob = c(0.0275, 0.975)))
hist(log10(N.2053 + 1), main = "log(N+1)")
abline(v = log10(quantile(N.2053, prob = c(0.0275, 0.975))
+ 1), lty = 3)
par(mfcol=c(2,1), mar=c(2,4,1,1))
hist(N.2053, main = "N")
abline(v = quantile(N.2053, prob = c(0.0275, 0.975)),
lty = 3, col= "darkred")
hist(N.2053, main = "N", xlim = c(0,1700))
abline(v = quantile(N.2053, prob = c(0.0275, 0.975)),
lty = 3, col= "darkred")
par(mfcol=c(2,1), mar=c(2,4,1,1))
hist(N.2053, main = "N")
abline(v = quantile(N.2053, prob = c(0.0275, 0.975)),
lty = 3, lwd = 2, col= "darkred")
hist(N.2053, main = "N", xlim = c(0,1700))
abline(v = quantile(N.2053, prob = c(0.0275, 0.975)),
lty = 3, lwd = 2, col= "darkred")
par(mfcol=c(2,1), mar=c(2,4,1,1))
hist(N.2053, main = "N")
abline(v = quantile(N.2053, prob = c(0.0275, 0.975)),
lty = 3, lwd = 2, col= "darkred")
hist(N.2053, main = "N", xlim = c(0,1700))
abline(v = quantile(N.2053, prob = c(0.0275, 0.975)),
lty = 3, lwd = 2, col= "darkred")
abline(v = mean(N.2053),
lty = 3, lwd = 2, col= "darkred")
par(mfcol=c(2,1), mar=c(2,4,1,1))
hist(N.2053, main = "N")
abline(v = quantile(N.2053, prob = c(0.0275, 0.975)),
lty = 3, lwd = 2, col= "darkred")
hist(N.2053, main = "N", xlim = c(0,1700))
abline(v = quantile(N.2053, prob = c(0.0275, 0.975)),
lty = 3, lwd = 2, col= "darkred")
abline(v = mean(N.2053),
lty = 3, lwd = 2, col= "darkred")
text(mean(N.2053)+10, 600, mean(N.2053))
par(mfcol=c(2,1), mar=c(2,4,1,1))
hist(N.2053, main = "N")
abline(v = quantile(N.2053, prob = c(0.0275, 0.975)),
lty = 3, lwd = 2, col= "darkred")
hist(N.2053, main = "N", xlim = c(0,1700))
abline(v = quantile(N.2053, prob = c(0.0275, 0.975)),
lty = 3, lwd = 2, col= "darkred")
abline(v = mean(N.2053),
lty = 3, lwd = 2, col= "darkred")
text(mean(N.2053)+100, 600, round(mean(N.2053)), 0)
par(mfcol=c(2,1), mar=c(2,4,1,1))
hist(N.2053, main = "N")
abline(v = quantile(N.2053, prob = c(0.0275, 0.975)),
lty = 3, lwd = 2, col= "darkred")
hist(N.2053, main = "N", xlim = c(0,1700))
abline(v = quantile(N.2053, prob = c(0.0275, 0.975)),
lty = 3, lwd = 2, col= "darkred")
abline(v = mean(N.2053),
lty = 3, lwd = 2, col= "darkred")
text(mean(N.2053)+100, 600, round(mean(N.2053)), 0, cex = 2)
par(mfcol=c(2,1), mar=c(2,4,1,1))
hist(N.2053, main = "N")
abline(v = quantile(N.2053, prob = c(0.0275, 0.975)),
lty = 3, lwd = 2, col= "darkred")
hist(N.2053, main = "N", xlim = c(0,1700))
abline(v = quantile(N.2053, prob = c(0.0275, 0.975)),
lty = 3, lwd = 2, col= "darkred")
abline(v = mean(N.2053),
lty = 3, lwd = 2, col= "darkred")
text(mean(N.2053)+50, 600, round(mean(N.2053)), 0, cex = 2)
par(mfcol=c(2,1), mar=c(2,4,1,1))
hist(N.2053, main = "N")
abline(v = quantile(N.2053, prob = c(0.0275, 0.975)),
lty = 3, lwd = 2, col= "darkred")
hist(N.2053, main = "N", xlim = c(0,1700))
abline(v = quantile(N.2053, prob = c(0.0275, 0.975)),
lty = 3, lwd = 2, col= "darkred")
abline(v = mean(N.2053),
lty = 3, lwd = 2, col= "darkred")
text(mean(N.2053)+30, 600, round(mean(N.2053)), 0, cex = 2)
par(mfcol=c(2,1), mar=c(2,4,1,1))
hist(N.2053, main = "N")
abline(v = quantile(N.2053, prob = c(0.0275, 0.975)),
lty = 3, lwd = 2, col= "darkred")
hist(N.2053, main = "N", xlim = c(0,1700))
abline(v = quantile(N.2053, prob = c(0.0275, 0.975)),
lty = 3, lwd = 2, col= "darkred")
abline(v = mean(N.2053),
lty = 3, lwd = 2, col= "darkred")
text(mean(N.2053)+30, 600, paste("Media =",round(mean(N.2053),0) sep = " "), cex = 2)
par(mfcol=c(2,1), mar=c(2,4,1,1))
hist(N.2053, main = "N")
abline(v = quantile(N.2053, prob = c(0.0275, 0.975)),
lty = 3, lwd = 2, col= "darkred")
hist(N.2053, main = "N", xlim = c(0,1700))
abline(v = quantile(N.2053, prob = c(0.0275, 0.975)),
lty = 3, lwd = 2, col= "darkred")
abline(v = mean(N.2053),
lty = 3, lwd = 2, col= "darkred")
text(mean(N.2053)+30, 600, paste("Media =",
round(mean(N.2053),0),
sep = " "), cex = 2)
par(mfcol=c(2,1), mar=c(2,4,1,1))
hist(N.2053, main = "N")
abline(v = quantile(N.2053, prob = c(0.0275, 0.975)),
lty = 3, lwd = 2, col= "darkred")
hist(N.2053, main = "N", xlim = c(0,1700))
abline(v = quantile(N.2053, prob = c(0.0275, 0.975)),
lty = 3, lwd = 2, col= "darkred")
abline(v = mean(N.2053),
lty = 3, lwd = 2, col= "darkred")
text(mean(N.2053)+10, 600, paste("Media =",
round(mean(N.2053),0),
sep = " "), cex = 2, pos = 4)
par(mfcol=c(2,1), mar=c(2,4,1,1))
hist(N.2053, main = "N")
abline(v = quantile(N.2053, prob = c(0.0275, 0.975)),
lty = 3, lwd = 2, col= "darkred")
hist(N.2053, main = "N", xlim = c(0,1700))
abline(v = quantile(N.2053, prob = c(0.0275, 0.975)),
lty = 3, lwd = 2, col= "darkred")
abline(v = mean(N.2053),
lty = 3, lwd = 2, col= "darkred")
text(mean(N.2053)+10, 600, paste("Media =",
round(mean(N.2053),0),
sep = " "), cex = 1.8, pos = 4)
cat("La probabilidad de extinción es:" , (sum(as.numeric(N.2053==0))/1000)*100)
lambda <- 2
t <- 10
log(lambda)
r <- log(lambda)
r
r/10
rh <- (r/10)
1*exp(rh*5)
554/540
log(554/540)
Nt0 = 145
t = 1
e = 2.718
Lambda = 2
r = 0.69
Nt1 = exp(rt)Nt0
Nt0 = 145
t = 1
e = 2.718
Lambda = 2
r = 0.69
Nt1 = exp(r*t)*Nt0
Nt0 = 145
t = 10
e = 2.718
Lambda = 2
r = 0.69/10
Nt1 = exp(r*t)*Nt0
Nt1
Nt0 = 145
t = 1
e = 2.718
Lambda = 2
r = 0.69
(Nt1 = exp(r*t)*Nt0)
r = 0.69/10
r
Nt0 = 145
t = 10
e = 2.718
Lambda = 2
r = 0.69/10
(Nt1 = exp(r*t)*Nt0)
Nt0 = 145
t = 5
e = 2.718
Lambda = 2
r = 0.69/10
(Nt1 = exp(r*t)*Nt0)
Nt0 = 1
t = 5
e = 2.718
Lambda = 2
r = 0.69/10
(Nt1 = exp(r*t)*Nt0)
Nt0 = 1
t = 10
e = 2.718
Lambda = 2
r = 0.69/10
(Nt1 = exp(r*t)*Nt0)
Nt0 = 145
t = 10
e = 2.718
Lambda = 2
r = 0.69/10
(Nt1 = exp(r*t)*Nt0)
Nt0 = 145
t = 5
e = 2.718
Lambda = 2
r = 0.69/10
(Nt1 = exp(r*t)*Nt0)
r = 0.1
t = 730
Nt0 = 1000
(Nt730 = exp(r+t)+Nt0)
(Nt730 = exp(r*t)*Nt0)
